# 微服务中的客户端发现与服务端发现

在微服务应用中，服务的发现有两种形式：

- 客户端发现
- 服务端发现

## 客户端发现

![客户端发现](https://image-hosting.jellyfishmix.com/20200608161635.png)

这里的注册中心其实就相当于房屋中介，A 是购房者，B 是待售房屋。

客户端发现就是当 A 需要调用 B 服务时，请求注册中心（B 服务在启动时会将信息注册到注册中心），注册中心将一份完整的可用服务列表返回给 A 服务，A 服务自行决定使用哪个 B 服务。

### 特点

- 简单直接，不需要代理的介入
- 客户端 A 知道所有实际可用的服务地址
- 客户端 A 需要自己实现负载均衡逻辑

### 使用客户端发现的例子

- Eureka

## 服务端发现

![服务端发现](https://image-hosting.jellyfishmix.com/20200608161701.png)

服务端发现相对于客户端发现，多了一个代理，代理帮 A 从众多的 B 中挑选一个 B。

### 特点

- 由于代理的介入，服务 B 与注册中心，对 A 是不可见的

### 使用服务端发现的例子

- Nginx
- ZooKeeper
- Kubernetes